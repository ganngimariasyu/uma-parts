<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ é¦¬ã®éƒ¨ä½ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è§£èª¬ï¼ˆæ¥å®¢ç”¨ãƒ»ãƒ€ãƒ¼ã‚¯ï¼‰</title>
  <meta name="description" content="é¦¬ã®éƒ¨ä½ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ã€èª¬æ˜ãƒ»é£Ÿã¹æ–¹ãƒ»èª¿ç†ã®ä»•æ–¹ãƒ»é£Ÿæ„Ÿã€ãŒãƒšãƒ¼ã‚¸å†…ã§è¡¨ç¤ºã•ã‚Œã‚‹æ¥å®¢å‘ã‘ãƒ„ãƒ¼ãƒ«ã€‚ãƒ€ãƒ¼ã‚¯ï¼ˆã‚°ãƒ¬ãƒ¼åŸºèª¿ï¼‰ï¼†åºƒã„ã‚¯ãƒªãƒƒã‚¯åˆ¤å®šã€‚" />
  <style>
    :root{
      /* ãƒ€ãƒ¼ã‚¯ï¼ˆã‚°ãƒ¬ãƒ¼ã€œãƒã‚¤ãƒ“ãƒ¼ç³»ï¼‰ */
      --bg1:#0b1020; --bg2:#0a0f1e; --card:#12192b; --ink:#e9f1ff; --muted:#9eb0d1; --line:#223155;
      --accent:#6ea8ff; --hit:#5db0ff33; --sel:#6ea8ff99;
      --hit-width:28; /* â†ã‚¿ãƒƒãƒåˆ¤å®šã®å¤ªã•ã€‚åºƒã’ãŸã„æ™‚ã¯æ•°å€¤UP */
    }
    html,body{height:100%}
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN","Noto Sans JP","Yu Gothic",sans-serif;
      background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 100%); color:var(--ink)
    }
    header{padding:18px 16px 4px; max-width:1200px; margin:auto}
    h1{margin:0 0 4px; font-size:clamp(20px,3vw,28px)}
    .sub{color:var(--muted); font-size:13px}

    .wrap{display:grid; grid-template-columns:1.25fr 1fr; gap:18px; padding:12px 16px 28px; max-width:1200px; margin:auto}
    @media (max-width: 960px){ .wrap{ grid-template-columns:1fr; } }

    .stage{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:12px; position:relative}
    .legend{display:flex; gap:8px; flex-wrap:wrap; padding:6px 6px 10px}
    .badge{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:#0e1526; border:1px solid var(--line); color:var(--muted); font-size:12px}
    .badge i{width:10px; height:10px; border-radius:2px; background:var(--accent); display:inline-block}

    /* SVGã‚¨ãƒªã‚¢ */
    .svgbox{position:relative; aspect-ratio: 16/9; width:100%;
      background: radial-gradient(900px 480px at 50% 10%, #11203b 0%, #0c1324 45%, #0b1020 100%);
      border-radius:12px; overflow:hidden; border:1px solid var(--line)
    }
    svg{display:block; width:100%; height:100%}
    .base{fill:#0e1730; stroke:#24365e}
    .part.visual{fill:#89a7d930; stroke:#8fb4ff66; stroke-width:1.2; cursor:pointer; transition:all .15s ease}
    .part.visual:hover{fill:var(--hit)}
    .part.visual[aria-selected="true"]{fill:var(--sel); stroke:#bcd6ff}
    /* ã‚¯ãƒªãƒƒã‚¯åˆ¤å®šã‚’åºƒãã™ã‚‹é€æ˜ã®å½“ãŸã‚Šé ˜åŸŸï¼ˆstrokeã«åå¿œï¼‰ */
    .part.hit{fill:none; stroke:transparent; stroke-width:var(--hit-width); pointer-events:stroke; vector-effect:non-scaling-stroke}

    .label{font-size:12px; fill:#cfe1ff}

    /* ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ« */
    .panel{position:relative; background:#0f1526; border:1px solid var(--line); border-radius:16px; overflow:hidden}
    .panel header{padding:14px 16px; border-bottom:1px solid var(--line)}
    .panel h2{margin:0; font-size:18px}
    .chip{color:var(--muted); font-size:12px}
    .tabs{display:flex; gap:6px; padding:10px; border-bottom:1px solid var(--line); overflow:auto}
    .tab{flex:0 0 auto; padding:8px 12px; background:#0e1528; border:1px solid var(--line); color:var(--muted); border-radius:10px; cursor:pointer; font-size:13px}
    .tab[aria-selected="true"]{background:#15213a; color:var(--ink); border-color:#34508a}
    .content{padding:14px 16px; min-height:220px}
    .content h3{margin:0 0 6px; font-size:14px; color:var(--muted)}
    .content p{margin:0 0 10px; line-height:1.9}

    /* ä½¿ã„æ–¹ã‚«ãƒ¼ãƒ‰ */
    .howto{display:grid; grid-template-columns:1fr 1fr; gap:8px; padding:10px 12px}
    .howto .card{background:#0e1526; border:1px solid var(--line); border-radius:12px; padding:10px; color:var(--ink)}
    .howto b{color:#8ec1ff}
    @media (max-width: 640px){ .howto{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ´ é¦¬ã®éƒ¨ä½ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è§£èª¬ï¼ˆæ¥å®¢ç”¨ãƒ»ãƒ€ãƒ¼ã‚¯ï¼‰</h1>
    <div class="sub">éƒ¨ä½ã‚’ã‚¿ãƒƒãƒ— â†’ å³å´ã« <b>èª¬æ˜ï¼é£Ÿã¹æ–¹ï¼èª¿ç†ã®ä»•æ–¹ï¼é£Ÿæ„Ÿ</b> ã‚’è¡¨ç¤ºã€‚ã‚¯ãƒªãƒƒã‚¯åˆ¤å®šã¯åºƒã‚ã€‚ç·¨é›†æ©Ÿèƒ½ãªã—ã€‚</div>
  </header>

  <div class="wrap">
    <!-- å·¦ï¼šã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–SVG -->
    <section class="stage">
      <div class="legend">
        <span class="badge"><i></i> ã‚¿ãƒƒãƒ—ã§é¸æŠï¼ã‚‚ã†ä¸€åº¦ã§è§£é™¤ï¼ˆåˆ¤å®šåºƒã‚ï¼‰</span>
        <span class="badge"><i style="background:#a6ffb1"></i> ãƒ¢ãƒã‚¤ãƒ«OKï¼ˆãƒ”ãƒ³ãƒã§æ‹¡å¤§ï¼‰</span>
      </div>
      <div class="svgbox" id="svgbox">
        <!-- â–¼ ã“ã“ãŒæç”»ã‚¨ãƒªã‚¢ã€‚ã‚ãªãŸã®horse.svgã‚’ãã®ã¾ã¾è²¼ã£ã¦ã‚‚OKï¼ˆä¸‹ã®ã‚³ãƒ¡ãƒ³ãƒˆå‚ç…§ï¼‰ -->
        <svg viewBox="0 0 920 520" xmlns="http://www.w3.org/2000/svg" aria-labelledby="ttl desc">
          <title id="ttl">é¦¬ã®éƒ¨ä½ã‚·ãƒ«ã‚¨ãƒƒãƒˆï¼ˆæ¥å®¢ç”¨ï¼‰</title>
          <desc id="desc">ã‚·ãƒ«ã‚¨ãƒƒãƒˆä¸Šã®ãƒ‘ãƒ¼ãƒ„ã‚’ã‚¿ãƒƒãƒ—ã—ã¦è©³ç´°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</desc>

          <!-- =========================
               ã‚ãªãŸã®horse.svgã®<path>ã‚„<g>ã‚’
               â–¼ã“ã® <g id="horseShape"> ã®ä¸­ã«ãƒšãƒ¼ã‚¹ãƒˆ
               ï¼ˆviewBoxãŒé•ã£ã¦ã‚‚å¤§æŠµOKã€‚å¿…è¦ãªã‚‰transformã§æ‹¡å¤§ç¸®å°ï¼‰
          ========================== -->
          <g id="horseShape">
            <!-- â–¼ã“ã“ã«horse.svgã®<path>ç­‰ã‚’è²¼ã‚‹ã€‚è²¼ã£ãŸã‚‰ä¸‹ã®ã€ŒfallbackBaseã€ã¯è‡ªå‹•ã§éè¡¨ç¤ºã«ã™ã‚‹JSãŒåƒãã¾ã™ã€‚ -->
          </g>

          <!-- Fallbackï¼ˆè²¼ã‚Šä»˜ã‘å‰ã®ä»®ã‚·ãƒ«ã‚¨ãƒƒãƒˆï¼‰ -->
          <path id="fallbackBase" class="base"
            d="M140,250 C180,180 280,150 380,160 C460,168 520,190 600,210 C640,220 700,218 740,222 C770,225 812,236 838,254 C846,260 850,272 846,282 C839,301 816,314 788,332 C760,349 738,364 720,380 C700,396 662,412 626,412 C552,410 476,388 404,380 C332,372 278,380 226,390 C176,400 134,392 108,360 C92,340 90,312 105,284 C116,262 126,258 140,250 Z"/>

          <!-- éƒ¨ä½é ˜åŸŸï¼ˆè¦–è¦šãƒ‘ã‚¹ï¼‹åºƒã„ãƒ’ãƒƒãƒˆãƒ‘ã‚¹ã®äºŒé‡ï¼‰-->
          <g id="parts">
            <g data-key="ãƒ­ãƒ¼ã‚¹">
              <path class="part hit" d="M320,210 C380,200 460,202 520,214 C560,222 582,232 600,242 C560,252 520,256 480,256 C420,256 370,248 330,236 Z"/>
              <path class="part visual" d="M320,210 C380,200 460,202 520,214 C560,222 582,232 600,242 C560,252 520,256 480,256 C420,256 370,248 330,236 Z"/>
            </g>
            <g data-key="è‚©ãƒ­ãƒ¼ã‚¹">
              <path class="part hit" d="M250,220 C290,205 330,198 360,198 C340,214 332,230 328,244 C302,242 278,236 254,228 Z"/>
              <path class="part visual" d="M250,220 C290,205 330,198 360,198 C340,214 332,230 328,244 C302,242 278,236 254,228 Z"/>
            </g>
            <g data-key="ãƒ’ãƒ¬">
              <path class="part hit" d="M520,220 C552,226 580,238 605,254 C575,260 545,262 512,260 C500,248 504,234 520,220 Z"/>
              <path class="part visual" d="M520,220 C552,226 580,238 605,254 C575,260 545,262 512,260 C500,248 504,234 520,220 Z"/>
            </g>
            <g data-key="ãƒãƒ©">
              <path class="part hit" d="M290,260 C360,280 460,292 560,292 C540,312 500,330 440,338 C372,346 312,332 270,308 Z"/>
              <path class="part visual" d="M290,260 C360,280 460,292 560,292 C540,312 500,330 440,338 C372,346 312,332 270,308 Z"/>
            </g>
            <g data-key="ãƒ•ã‚¿ã‚¨ã‚´">
              <path class="part hit" d="M220,258 C254,268 270,286 278,306 C248,312 218,308 198,294 C192,278 198,266 220,258 Z"/>
              <path class="part visual" d="M220,258 C254,268 270,286 278,306 C248,312 218,308 198,294 C192,278 198,266 220,258 Z"/>
            </g>
            <g data-key="ã‚¿ãƒ†ã‚¬ãƒŸ">
              <path class="part hit" d="M260,188 C308,170 360,160 410,158 C372,172 344,188 326,206 C304,202 282,196 260,188 Z"/>
              <path class="part visual" d="M260,188 C308,170 360,160 410,158 C372,172 344,188 326,206 C304,202 282,196 260,188 Z"/>
            </g>
            <g data-key="å†…ã‚‚ã‚‚">
              <path class="part hit" d="M440,344 C490,338 540,330 580,324 C566,352 540,372 504,380 C468,386 436,380 410,362 Z"/>
              <path class="part visual" d="M440,344 C490,338 540,330 580,324 C566,352 540,372 504,380 C468,386 436,380 410,362 Z"/>
            </g>
            <g data-key="å¤–ã‚‚ã‚‚">
              <path class="part hit" d="M580,324 C620,320 660,316 700,312 C696,342 672,366 634,382 C604,392 578,386 556,370 Z"/>
              <path class="part visual" d="M580,324 C620,320 660,316 700,312 C696,342 672,366 634,382 C604,392 578,386 556,370 Z"/>
            </g>
            <g data-key="ãƒãƒ„">
              <path class="part hit" d="M632,260 C660,266 688,270 716,280 C690,288 664,292 638,290 C628,282 626,270 632,260 Z"/>
              <path class="part visual" d="M632,260 C660,266 688,270 716,280 C690,288 664,292 638,290 C628,282 626,270 632,260 Z"/>
            </g>
            <g data-key="ãƒ¬ãƒãƒ¼">
              <path class="part hit" d="M664,290 C694,296 722,306 748,320 C722,326 696,330 670,328 C656,318 656,304 664,290 Z"/>
              <path class="part visual" d="M664,290 C694,296 722,306 748,320 C722,326 696,330 670,328 C656,318 656,304 664,290 Z"/>
            </g>
          </g>

          <!-- ãƒ©ãƒ™ãƒ« -->
          <g fill="currentColor">
            <text class="label" x="370" y="220">ãƒ­ãƒ¼ã‚¹</text>
            <text class="label" x="290" y="214">è‚©ãƒ­ãƒ¼ã‚¹</text>
            <text class="label" x="545" y="228">ãƒ’ãƒ¬</text>
            <text class="label" x="430" y="286">ãƒãƒ©</text>
            <text class="label" x="228" y="294">ãƒ•ã‚¿ã‚¨ã‚´</text>
            <text class="label" x="318" y="178">ã‚¿ãƒ†ã‚¬ãƒŸ</text>
            <text class="label" x="470" y="366">å†…ã‚‚ã‚‚</text>
            <text class="label" x="604" y="370">å¤–ã‚‚ã‚‚</text>
            <text class="label" x="650" y="270">ãƒãƒ„</text>
            <text class="label" x="702" y="320">ãƒ¬ãƒãƒ¼</text>
          </g>
        </svg>
      </div>

      <div class="howto">
        <div class="card"><b>1) ã‚¿ãƒƒãƒ—ã—ã¦è¡¨ç¤º</b><br>æ°—ã«ãªã‚‹éƒ¨ä½ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨å³ã«è©³ç´°ãŒå‡ºã¾ã™ã€‚ã‚‚ã†ä¸€åº¦ã‚¿ãƒƒãƒ—ã§è§£é™¤ã€‚</div>
        <div class="card"><b>2) é£Ÿã¹æ–¹ã®ææ¡ˆ</b><br>ã€Œé£Ÿã¹æ–¹ã€ã‚¿ãƒ–ã«äººæ°—ã®é£Ÿã¹æ–¹ã‚’è¼‰ã›ã¦ã„ã¾ã™ã€‚æ¥å®¢ãƒˆãƒ¼ã‚¯ã«ã©ã†ãã€‚</div>
      </div>
    </section>

    <!-- å³ï¼šæƒ…å ±ãƒ‘ãƒãƒ« -->
    <aside class="panel" id="panel">
      <header>
        <h2 id="partName">éƒ¨ä½ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãã ã•ã„</h2>
        <div class="chip" id="chip">â€”</div>
      </header>
      <nav class="tabs" role="tablist" aria-label="æƒ…å ±ã‚¿ãƒ–">
        <button class="tab" role="tab" aria-selected="true" data-tab="desc">èª¬æ˜</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="eat">é£Ÿã¹æ–¹</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="cook">èª¿ç†ã®ä»•æ–¹</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="texture">é£Ÿæ„Ÿ</button>
      </nav>
      <div class="content" id="content">
        <h3>ã‚¬ã‚¤ãƒ‰</h3>
        <p>å·¦ã®ã‚·ãƒ«ã‚¨ãƒƒãƒˆã‹ã‚‰éƒ¨ä½ã‚’é¸ã¶ã¨ã€ã“ã“ã«ã€Œèª¬æ˜ï¼é£Ÿã¹æ–¹ï¼èª¿ç†ã®ä»•æ–¹ï¼é£Ÿæ„Ÿã€ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ç·¨é›†æ©Ÿèƒ½ã¯çœã„ã¦ã‚ã‚Šã¾ã™ã€‚</p>
      </div>
    </aside>
  </div>

  <script>
    // ===== 1) æ–‡è¨€ãƒ‡ãƒ¼ã‚¿ =====
    const DATA = {
      "ãƒ­ãƒ¼ã‚¹": {
        desc: "èƒŒä¸­ã®ä¸­å¿ƒä»˜è¿‘ã®èµ¤èº«ã§ã€ç­‹ç¹Šç¶­ãŒãã‚ç´°ã‹ãã‚¯ã‚»ãŒå°‘ãªã„â€œç‹é“éƒ¨ä½â€ã€‚åˆã‚ã¦ã®æ–¹ã«ã‚‚ãŠã™ã™ã‚ã€‚è„‚ã¯å°‘ãªã‚ã§å¾Œå‘³ã¯è»½ã„ãŒã€èµ¤èº«ã®æ—¨å‘³ãŒæ¿ƒã„ã€‚",
        eat: "è–„åˆ‡ã‚Šã®é¦¬åˆºã—ãŒåŸºæœ¬ã€‚ç”˜å£ã®ä¹å·é†¤æ²¹ï¼‹ç”Ÿå§œï¼ã«ã‚“ã«ãã€‚ç´…ç™½åˆºã—ï¼ˆã‚¿ãƒ†ã‚¬ãƒŸé‡ã­ï¼‰ã§ç”˜ã¿ã¨ã‚³ã‚¯ã‚’è¶³ã™ã¨æº€è¶³åº¦ã‚¢ãƒƒãƒ—ã€‚",
        cook: "è¡¨é¢ã ã‘å¼·ç«ã§ã‚µãƒƒã¨ç‚™ã‚‹ã‚¿ã‚¿ã‚­ã€‚åšã‚ã®ãƒ–ãƒ­ãƒƒã‚¯ã¯ä½æ¸©èª¿ç†ï¼ˆ58ã€œ60â„ƒï¼‰ã§ã—ã£ã¨ã‚Šã€‚",
        texture: "ã—ã£ã¨ã‚ŠæŸ”ã‚‰ã‹ã€‚èˆŒã«å¸ã„ä»˜ãã‚ˆã†ãªãã‚ç´°ã‹ã•ã€‚"
      },
      "è‚©ãƒ­ãƒ¼ã‚¹": {
        desc: "é¦–ã€œè‚©ã«ã‹ã‘ã¦ã®éƒ¨ä½ã€‚ãƒ­ãƒ¼ã‚¹ã«è¿‘ã„ä¸Šè³ªã•ã‚’ä¿ã¡ãªãŒã‚‰ã€æ—¨å‘³ã¯ã‚„ã‚„åŠ›å¼·ã„ã€‚ã‚³ã‚¹ãƒ‘ã«å„ªã‚Œäººæ°—ã€‚",
        eat: "åˆºèº«ã®ä»–ã€èƒ¡éº»ãƒ€ãƒ¬ãƒ»é…¢å‘³å™Œã‚‚ç›¸æ€§â—ã€‚ãƒœãƒªãƒ¥ãƒ¼ãƒ ãŒæ¬²ã—ã„æ–¹ã«ã€‚",
        cook: "è–„ã‚ã«å¼•ã„ã¦ã•ã£ã¨ç‚™ã‚Šã€‚ç­‹ç›®ã‚’æ–­ã¤ã‚«ãƒƒãƒˆã§ã•ã‚‰ã«æŸ”ã‚‰ã‹ãã€‚",
        texture: "ãƒ­ãƒ¼ã‚¹ã‚ˆã‚Šã‚„ã‚„æ­¯å¿œãˆãŒã‚ã‚Šã€å™›ã‚€ã»ã©æ—¨ã„ã€‚"
      },
      "ãƒ’ãƒ¬": {
        desc: "è…°ã®å†…å´ã«ã‚ã‚‹æœ€ã‚‚æŸ”ã‚‰ã‹ã„èµ¤èº«ã€‚ä¸­å¿ƒã®ã‚·ãƒ£ãƒˆãƒ¼ãƒ–ãƒªã‚¢ãƒ³ã¯ç‰¹ã«å¸Œå°‘ã§ä¸Šå“ãªç”˜ã¿ã€‚",
        eat: "å¡©ï¼‹ã”ã¾æ²¹ã€ã¾ãŸã¯æ·¡å£ã®é†¤æ²¹ã§ç´ ææ„Ÿã‚’æ¥½ã—ã‚€ã€‚ç‰¹åˆ¥ãªæ—¥å‘ã‘ã€‚",
        cook: "åšåˆ‡ã‚Šã¯ä½æ¸©èª¿ç†ä¸€æŠã€‚ç„¼ããªã‚‰å¼·ç«ãƒ»çŸ­æ™‚é–“ã§é¦™ã‚Šä»˜ã‘ç¨‹åº¦ã«ã€‚",
        texture: "éå¸¸ã«ã‚„ã‚ã‚‰ã‹ã„ã€‚ã‚¹ãƒƒã¨å™›ã¿åˆ‡ã‚Œã‚‹ä¸Šè³ªé£Ÿæ„Ÿã€‚"
      },
      "ãƒãƒ©": {
        desc: "ã‚ã°ã‚‰å‘¨ã‚Šã€‚èµ¤èº«ã¨è„‚ã®å±¤ãŒäº¤äº’ã«å…¥ã‚Šã€ã‚³ã‚¯ã¨æº€è¶³æ„ŸãŒå¼·ã„ã€‚ã—ã£ã‹ã‚Šã—ãŸæ—¨å‘³ã€‚",
        eat: "åˆºèº«ã¯ã‚‚ã¡ã‚ã‚“ã€ãƒ¦ãƒƒã‚±é¢¨ã‚„æ¼¬ã‘ä¸¼ã‚‚äººæ°—ã€‚æ¿ƒã„ã‚ã‚¿ãƒ¬ã¨ã®ç›¸æ€§æŠœç¾¤ã€‚",
        cook: "ç„¼ãã§ã¯è„‚ãŒè½ã¡ã¦ã‚¸ãƒ¥ãƒ¼ã‚·ãƒ¼ã€‚ç…®è¾¼ã¿ãƒ»ã‚«ãƒ¬ãƒ¼ã§ã‚‚å‡ºæ±ãŒæ¿ƒãå‡ºã‚‹ã€‚",
        texture: "ã‚„ã‚„å™›ã¿å¿œãˆãŒã‚ã‚Šã€èµ¤èº«ã®æ—¨å‘³ã¨è„‚ã®ç”˜ã¿ãŒäº¤äº’ã«åºƒãŒã‚‹ã€‚"
      },
      "ãƒ•ã‚¿ã‚¨ã‚´": {
        desc: "çš®ä¸‹è„‚è‚ªã¨èµ¤èº«ãŒå±¤çŠ¶ã«ãªã£ãŸå¸Œå°‘éƒ¨ä½ã€‚è¦‹ãŸç›®ãŒâ€œäºŒé‡â€ã«è¦‹ãˆã‚‹ã“ã¨ãŒåå‰ã®ç”±æ¥ã€‚",
        eat: "åŠå†·å‡ã§è–„ãå¼•ãã€ç”˜å£é†¤æ²¹ã‚„è¾›å­å‘³å™Œã€‚ãƒ­ãƒ¼ã‚¹ã¨é‡ã­ã¦ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’æ¥½ã—ã‚€ã®ã‚‚â—ã€‚",
        cook: "å†·ã‚„ã—ã¦è„‚ã‚’è½ã¡ç€ã‹ã›ã¦ã‹ã‚‰ã‚¹ãƒ©ã‚¤ã‚¹ã™ã‚‹ã¨ç¾ã—ã„æ–­é¢ã«ã€‚",
        texture: "ã‚³ãƒªã‚³ãƒªæ„Ÿï¼‹è„‚ã®ã¨ã‚ã‘ã‚‹ç”˜ã¿ã€‚å™›ã‚€ã»ã©æ¥½ã—ã„é£Ÿæ„Ÿã€‚"
      },
      "ã‚¿ãƒ†ã‚¬ãƒŸ": {
        desc: "é¦–ã®ãŸã¦ãŒã¿ä¸‹ã®è„‚ï¼ˆã‚³ã‚¦ãƒï¼‰ã€‚å˜ä½“ã‚ˆã‚Šèµ¤èº«ã¨åˆã‚ã›ã‚‹â€œç´…ç™½åˆºã—â€ãŒå®šç•ªã€‚èç‚¹ãŒä½ãå£æº¶ã‘ãŒéå¸¸ã«è‰¯ã„ã€‚",
        eat: "ãƒ­ãƒ¼ã‚¹ç­‰ã®èµ¤èº«ã«1:1ã§é‡ã­ã€ç”˜å£é†¤æ²¹ã‚„å¡©ã§ã€‚åˆå¿ƒè€…ã«ã‚‚é£Ÿã¹ã‚„ã™ã„ã€‚",
        cook: "åŠå†·å‡ã®çŠ¶æ…‹ã§è–„ãå¼•ãã¨å´©ã‚Œã«ãã„ã€‚",
        texture: "ã·ã‚‹ã·ã‚‹ãƒ»ã­ã£ã¨ã‚Šã€‚å¾Œå‘³ã¯è»½ããƒŸãƒ«ã‚­ãƒ¼ã€‚"
      },
      "å†…ã‚‚ã‚‚": {
        desc: "å¾Œè‚¢ã®å†…å´ã€‚è„‚ãŒå°‘ãªãé«˜ã‚¿ãƒ³ãƒ‘ã‚¯ã§ãƒ˜ãƒ«ã‚·ãƒ¼ã€‚èµ¤èº«ã®æ—¨å‘³ãŒæ¿ƒã„ã®ã§åˆºèº«å‘ãã€‚",
        eat: "ã‚ã•ã³é†¤æ²¹ã‚„ç”Ÿå§œé†¤æ²¹ã§ã•ã£ã±ã‚Šã€‚é‡ã‚’é£Ÿã¹ãŸã„æ–¹ã«æœ€é©ã€‚",
        cook: "ä½æ¸©èª¿ç†ã§ã—ã£ã¨ã‚Šã€‚è–„è¡£ã®ã‚«ãƒ„ã‚„ã‚¿ã‚¿ã‚­ã‚‚å¥½è©•ã€‚",
        texture: "å¼•ãç· ã¾ã£ãŸæ­¯å¿œãˆã€‚å™›ã‚€ã»ã©ã«æ—¨å‘³ãŒã«ã˜ã‚€ã€‚"
      },
      "å¤–ã‚‚ã‚‚": {
        desc: "å¾Œè‚¢å¤–å´ã®å¤§ããªç­‹è‚‰ã€‚æ—¨å‘³ã¯å¼·ã„ãŒç¹Šç¶­ãŒå¤ªã‚ã§ã‚„ã‚„ç¡¬ã„ã€‚ã‚«ãƒƒãƒˆã§åŒ–ã‘ã‚‹éƒ¨ä½ã€‚",
        eat: "è–„åˆ‡ã‚Šåˆºã—ãƒ»ãƒ¦ãƒƒã‚±é¢¨ãƒ»æ¼¬ã‘ã€‚è–¬å‘³å¤šã‚ãŒåˆã†ã€‚",
        cook: "ç¹Šç¶­ã‚’æ–­ã¤æ–¹å‘ã«ã‚«ãƒƒãƒˆã€‚ç…®è¾¼ã¿ã‚„ä½ƒç…®ã§æ·±ã„ã‚³ã‚¯ã€‚",
        texture: "ã—ã£ã‹ã‚Šã‚ã®å™›ã¿å¿œãˆã€‚è‚‰ã‚‰ã—ã•ã‚’æ¥½ã—ã¿ãŸã„æ–¹å‘ã‘ã€‚"
      },
      "ãƒãƒ„": {
        desc: "å¿ƒè‡“ã€‚é®®åº¦ãŒå‘½ã§ã‚¯ã‚»ã¯å°‘ãªãçˆ½ã‚„ã‹ãªæ—¨å‘³ã€‚ãƒ›ãƒ«ãƒ¢ãƒ³ã®ä¸­ã§ã‚‚äººæ°—ã€‚",
        eat: "ã”ã¾æ²¹ï¼‹å¡©ã€é…¢å‘³å™Œã€‚è»½ãç‚™ã£ã¦é¦™ã‚Šä»˜ã‘ã‚‚â—ã€‚",
        cook: "è–„åˆ‡ã‚Šã§ã‚µãƒƒã¨ç„¼ãã€‚ç«ã‚’å…¥ã‚Œã™ãã‚‹ã¨ç¡¬ããªã‚‹ã®ã§æ³¨æ„ã€‚",
        texture: "ã‚³ãƒªãƒƒã¨å°æ°—å‘³ã‚ˆã„æ­¯å¿œãˆã€‚å™›ã‚€ã»ã©æ—¨å‘³ã€‚"
      },
      "ãƒ¬ãƒãƒ¼": {
        desc: "è‚è‡“ã€‚æ¿ƒåšã§é‰„åˆ†ãƒªãƒƒãƒã€‚â€»ç”Ÿé£Ÿã¯å„è‡ªæ²»ä½“ã®åŸºæº–ã«å¾“ã£ã¦ãã ã•ã„ã€‚åŠ ç†±ã§ç”˜ã¿ãŒå¼•ãç«‹ã¤ã€‚",
        eat: "ã”ã¾æ²¹å¡©ï¼ç”˜è¾›ãƒ€ãƒ¬ã€‚è‡­ã¿ãŒæ°—ã«ãªã‚‹æ–¹ã¯ç”Ÿå§œãƒ»ãƒ‹ãƒ©ãªã©é¦™å‘³é‡èœã¨ã€‚",
        cook: "è¡€æŠœãâ†’ç‰›ä¹³ã«çŸ­æ™‚é–“æµ¸ã‘ã¦è‡­ã¿ã‚±ã‚¢ã€‚ä¸­å¿ƒã¯ç«ã‚’é€šã—éããªã„ã®ãŒã‚³ãƒ„ã€‚",
        texture: "ã­ã£ã¨ã‚Šæ¿ƒå¯†ã€‚åŠ ç†±ã§ã»ã‚ã£ã¨ã»ã©ã‘ã‚‹é£Ÿæ„Ÿã«ã€‚"
      }
    };

    // ===== 2) UIåˆ¶å¾¡ =====
    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => [...el.querySelectorAll(q)];
    const partName = $("#partName");
    const chip = $("#chip");
    const content = $("#content");
    const tabs = $$(".tab");

    const groups = $$("#parts > g"); // å„éƒ¨ä½ã‚°ãƒ«ãƒ¼ãƒ—ï¼ˆdata-keyä»˜ãï¼‰
    const visualPaths = $$(".part.visual");
    const hitPaths = $$(".part.hit");

    let selectedKey = null;
    let activeTab = "desc"; // desc | eat | cook | texture

    // ã‚‚ã— #horseShape ã«ãƒ‘ã‚¹ãŒè²¼ã‚‰ã‚Œã¦ã„ãŸã‚‰ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’éš ã™
    (function hideFallbackIfUserSvg(){
      const hasUserSvg = $("#horseShape")?.children.length > 0;
      if(hasUserSvg){
        const fb = $("#fallbackBase");
        if(fb) fb.style.display = "none";
      }
    })();

    function renderPanel(){
      if(!selectedKey){
        partName.textContent = "éƒ¨ä½ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãã ã•ã„";
        chip.textContent = "â€”";
        content.innerHTML = `<h3>ã‚¬ã‚¤ãƒ‰</h3><p>å·¦ã®ã‚·ãƒ«ã‚¨ãƒƒãƒˆã‹ã‚‰éƒ¨ä½ã‚’é¸ã¶ã¨ã€ã“ã“ã«ã€Œèª¬æ˜ï¼é£Ÿã¹æ–¹ï¼èª¿ç†ã®ä»•æ–¹ï¼é£Ÿæ„Ÿã€ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ç·¨é›†æ©Ÿèƒ½ã¯çœã„ã¦ã‚ã‚Šã¾ã™ã€‚</p>`;
        return;
      }
      const data = DATA[selectedKey];
      partName.textContent = selectedKey;
      chip.textContent = `ã‚¿ãƒ–ï¼š${({desc:"èª¬æ˜", eat:"é£Ÿã¹æ–¹", cook:"èª¿ç†ã®ä»•æ–¹", texture:"é£Ÿæ„Ÿ"})[activeTab]}`;
      const body = (data?.[activeTab] ?? "æº–å‚™ä¸­").replace(/\n/g, "<br>");
      content.innerHTML = `<h3>${({desc:"èª¬æ˜", eat:"é£Ÿã¹æ–¹", cook:"èª¿ç†ã®ä»•æ–¹", texture:"é£Ÿæ„Ÿ"})[activeTab]}</h3><p>${body}</p>`;
    }

    // éƒ¨ä½é¸æŠï¼ˆãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«/ãƒ’ãƒƒãƒˆã©ã¡ã‚‰ã‚’æŠ¼ã—ã¦ã‚‚åŒã˜æŒ™å‹•ï¼‰
    function attachHandlers(el){
      el.setAttribute("tabindex","0");
      el.addEventListener("click", ()=>toggleSelect(el));
      el.addEventListener("keypress", (e)=>{ if(e.key==="Enter"||e.key===" ") toggleSelect(el); });
      el.addEventListener("mouseenter", ()=>{ if(!selectedKey) chip.textContent = el.parentElement.dataset.key; });
      el.addEventListener("mouseleave", ()=>{ if(!selectedKey) chip.textContent = "â€”"; });
    }
    visualPaths.forEach(attachHandlers);
    hitPaths.forEach(attachHandlers);

    function toggleSelect(target){
      const key = target.parentElement.dataset.key;
      const isSame = (selectedKey === key);
      selectedKey = isSame ? null : key;
      // è¦–è¦šåæ˜ 
      visualPaths.forEach(v=>v.setAttribute("aria-selected","false"));
      if(!isSame){
        const group = groups.find(g=>g.dataset.key===key);
        group.querySelector('.visual').setAttribute('aria-selected','true');
      }
      // ã‚¿ãƒ–ã‚’èª¬æ˜ã«æˆ»ã™
      activeTab = "desc"; tabs.forEach(t=>t.setAttribute("aria-selected", t.dataset.tab===activeTab));
      renderPanel();
    }

    // ã‚¿ãƒ–åˆ‡æ›¿
    tabs.forEach(t=>{
      t.addEventListener("click", ()=>{
        activeTab = t.dataset.tab;
        tabs.forEach(x=>x.setAttribute("aria-selected", x===t?"true":"false"));
        renderPanel();
      });
    });

    // åˆæœŸæç”»
    renderPanel();
  </script>

  <!-- â—† ãƒ¡ãƒ¢ï¼šæœ¬ç•ªSVGå·®ã—æ›¿ãˆ
    1) horse.svg ã‚’é–‹ã„ã¦ä¸­ã® <path> ã‚„ <g> ã‚’ã‚³ãƒ”ãƒ¼
    2) ä¸Šã® <g id="horseShape"> ã«ãã®ã¾ã¾ãƒšãƒ¼ã‚¹ãƒˆï¼ˆå¿…è¦ãªã‚‰ transform ã§ä½ç½®/æ‹¡å¤§ï¼‰
    3) å½“ãŸã‚Šåˆ¤å®šã‚’ã•ã‚‰ã«åºƒã’ãŸã„æ™‚ã¯ :root ã® --hit-width ã‚’å¢—ã‚„ã™ï¼ˆä¾‹: 36, 42ï¼‰
    4) ã‚‚ã£ã¨æ­£ç¢ºã«ã—ãŸã„æ™‚ã¯ã€å„éƒ¨ä½ã® .hit/.visual ã® d ã‚’å¾®èª¿æ•´
  -->
</body>
</html>
