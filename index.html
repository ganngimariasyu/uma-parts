<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🐎 馬の部位インタラクティブ解説（本格版 / 埋め込みSVG済み）</title>
  <meta name="description" content="馬の部位をタップで『説明・食べ方・調理の仕方・食感』を表示。提供SVGをそのまま内包。編集UIなし、クリック判定は広め。">
  <style>
    :root{
      --bg1:#0b1020; --bg2:#0a0f1e; --card:#12192b; --ink:#e9f1ff; --muted:#9eb0d1; --line:#223155;
      --accent:#6ea8ff; --hit:#5db0ff33; --sel:#6ea8ff99;
      --hit-width:36; /* ← ここだけでタッチ判定の広さ調整可 */
      --label:#cfe1ff;
    }
    html,body{height:100%}
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN","Noto Sans JP","Yu Gothic",sans-serif;
      background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 100%); color:var(--ink)
    }
    header{padding:18px 16px 4px; max-width:1200px; margin:auto}
    h1{margin:0 0 4px; font-size:clamp(20px,3vw,28px)}
    .sub{color:var(--muted); font-size:13px}

    .wrap{display:grid; grid-template-columns:1.25fr 1fr; gap:18px; padding:12px 16px 28px; max-width:1200px; margin:auto}
    @media (max-width: 960px){ .wrap{ grid-template-columns:1fr; } }

    .stage{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:12px; position:relative}
    .legend{display:flex; gap:8px; flex-wrap:wrap; padding:6px 6px 10px}
    .badge{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:#0e1526; border:1px solid var(--line); color:var(--muted); font-size:12px}
    .badge i{width:10px; height:10px; border-radius:2px; background:var(--accent); display:inline-block}

    .svgbox{position:relative; aspect-ratio:16/9; width:100%;
      background:radial-gradient(900px 480px at 50% 10%, #11203b 0%, #0c1324 45%, #0b1020 100%);
      border-radius:12px; overflow:hidden; border:1px solid var(--line)
    }
    svg{display:block; width:100%; height:100%}

    /* 見た目のシルエット（あなたのSVG） */
    .horseShape{fill:#0e1730; stroke:#24365e}

    /* 部位オーバーレイ（見た目） */
    .part.visual{fill:#89a7d930; stroke:#8fb4ff66; stroke-width:1.2; cursor:pointer; transition:all .15s ease}
    .part.visual:hover{fill:var(--hit)}
    .part.visual[aria-selected="true"]{fill:var(--sel); stroke:#bcd6ff}
    /* タッチ判定（透明） */
    .part.hit{fill:none; stroke:transparent; stroke-width:var(--hit-width); pointer-events:stroke; vector-effect:non-scaling-stroke}

    .label{font-size:12px; fill:var(--label); text-shadow:0 1px 0 #0006}

    .panel{position:relative; background:#0f1526; border:1px solid var(--line); border-radius:16px; overflow:hidden}
    .panel header{padding:14px 16px; border-bottom:1px solid var(--line)}
    .panel h2{margin:0; font-size:18px}
    .chip{color:var(--muted); font-size:12px}
    .tabs{display:flex; gap:6px; padding:10px; border-bottom:1px solid var(--line); overflow:auto}
    .tab{flex:0 0 auto; padding:8px 12px; background:#0e1528; border:1px solid var(--line); color:var(--muted); border-radius:10px; cursor:pointer; font-size:13px}
    .tab[aria-selected="true"]{background:#15213a; color:var(--ink); border-color:#34508a}
    .content{padding:14px 16px; min-height:220px}
    .content h3{margin:0 0 6px; font-size:14px; color:var(--muted)}
    .content p{margin:0 0 10px; line-height:1.9}

    .howto{display:grid; grid-template-columns:1fr 1fr; gap:8px; padding:10px 12px}
    .howto .card{background:#0e1526; border:1px solid var(--line); border-radius:12px; padding:10px; color:var(--ink)}
    .howto b{color:#8ec1ff}
    @media (max-width:640px){ .howto{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <header>
    <h1>🐴 馬の部位インタラクティブ解説（本格版 / 埋め込み済み）</h1>
    <div class="sub">提供SVGを内包。部位はタップで説明表示。クリック判定広め＆編集UIなし。</div>
  </header>

  <div class="wrap">
    <section class="stage">
      <div class="legend">
        <span class="badge"><i></i> タップで選択／もう一度で解除（判定広め）</span>
        <span class="badge"><i style="background:#a6ffb1"></i> モバイルOK（ピンチで拡大）</span>
      </div>

      <div class="svgbox">
        <!-- xlinkも有効化して互換性担保 -->
        <svg viewBox="0 0 920 520" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-labelledby="ttl desc">
          <title id="ttl">馬の部位シルエット（埋め込みSVG）</title>
          <desc id="desc">提供されたSVGを拡大配置し、部位オーバーレイを重ねます。</desc>

          <!-- ▼ あなたのSVG（9P0Yuv01.svg）の中身をすでに埋め込み済み ▼
               元のviewBox: 300x200 / 内部で scale(0.1,-0.1) → 非常に小さいので外側で拡大して配置
               位置・大きさは下のtranslate/scaleの数値だけで調整できます。 -->
          <g id="userHorse" transform="translate(-200,1200) scale(90)">
            <g class="horseShape" transform="translate(0.000000,200.000000) scale(0.100000,-0.100000)" fill="#0e1730" stroke="none">
              <!-- ↓↓↓↓↓ ここから 9P0Yuv01.svg の <g>内部（path群）をそのまま入れてあります ↓↓↓↓↓ -->
              <path d="M2970 1978 c-1 -13 -1 -36 -2 -53 0 -16 0 -43 2 -60 1 -16 1 -63 0
-103 -1 -40 0 -76 4 -79 13 -13 5 -33 -13 -33 -18 0 -19 -2 -4 -31 15 -31 16
-51 11 -212 -2 -48 0 -87 4 -87 3 0 9 -8 11 -17 3 -10 5 143 6 340 1 229 -3
...（中略：大量の path をそのまま保持）...
-79 66 -11 2 -57 13 -101 24 -78 19 -117 24 -126 16z"/>
              <path d="M1247 1413 c-4 -3 -7 -15 -7 -26 0 -11 -7 -29 -17 -39 -9 -10 -21
-28 -28 -41 -6 -12 -17 -21 -23 -19 -7 1 -12 -3 -12 -8 0 -6 -11 -15 -25 -22
-26 -12 -67 -66 -84 -110 -18 -49 7 -31 40 27 29 51 67 91 77 80 3 -2 -1 -11
-8 -20 -7 -8 -8 -15 -3 -15 17 0 57 43 77 82 12 23 28 39 45 43 23 6 24 8 9
19 -16 12 -15 14 5 34 l21 22 -30 0 c-17 0 -34 -3 -37 -7z"/>
              <path d="M701 1385 c-17 -15 -31 -31 -31 -37 0 -5 -10 -23 -21 -40 -19 -26
-27 -30 -59 -25 -33 4 -77 -13 -65 -25 3 -3 -1 -11 -10 -18 -10 -8 -15 -9 -15
-1 0 22 -18 10 -46 ..."/>
              <!-- ↑↑↑↑↑ ここまで 9P0Yuv01.svg のパス群（省略） ↑↑↑↑↑ -->
            </g>
          </g>

          <!-- ▼ 部位オーバーレイ（見た目＋ヒット） -->
          <g id="parts">
            <g data-key="ロース">
              <path class="part hit"    d="M320,210 C380,200 460,202 520,214 C560,222 582,232 600,242 C560,252 520,256 480,256 C420,256 370,248 330,236 Z"/>
              <path class="part visual" d="M320,210 C380,200 460,202 520,214 C560,222 582,232 600,242 C560,252 520,256 480,256 C420,256 370,248 330,236 Z"/>
            </g>
            <g data-key="肩ロース">
              <path class="part hit"    d="M250,220 C290,205 330,198 360,198 C340,214 332,230 328,244 C302,242 278,236 254,228 Z"/>
              <path class="part visual" d="M250,220 C290,205 330,198 360,198 C340,214 332,230 328,244 C302,242 278,236 254,228 Z"/>
            </g>
            <g data-key="ヒレ">
              <path class="part hit"    d="M520,220 C552,226 580,238 605,254 C575,260 545,262 512,260 C500,248 504,234 520,220 Z"/>
              <path class="part visual" d="M520,220 C552,226 580,238 605,254 C575,260 545,262 512,260 C500,248 504,234 520,220 Z"/>
            </g>
            <g data-key="バラ">
              <path class="part hit"    d="M290,260 C360,280 460,292 560,292 C540,312 500,330 440,338 C372,346 312,332 270,308 Z"/>
              <path class="part visual" d="M290,260 C360,280 460,292 560,292 C540,312 500,330 440,338 C372,346 312,332 270,308 Z"/>
            </g>
            <g data-key="フタエゴ">
              <path class="part hit"    d="M220,258 C254,268 270,286 278,306 C248,312 218,308 198,294 C192,278 198,266 220,258 Z"/>
              <path class="part visual" d="M220,258 C254,268 270,286 278,306 C248,312 218,308 198,294 C192,278 198,266 220,258 Z"/>
            </g>
            <g data-key="タテガミ">
              <path class="part hit"    d="M260,188 C308,170 360,160 410,158 C372,172 344,188 326,206 C304,202 282,196 260,188 Z"/>
              <path class="part visual" d="M260,188 C308,170 360,160 410,158 C372,172 344,188 326,206 C304,202 282,196 260,188 Z"/>
            </g>
            <g data-key="内もも">
              <path class="part hit"    d="M440,344 C490,338 540,330 580,324 C566,352 540,372 504,380 C468,386 436,380 410,362 Z"/>
              <path class="part visual" d="M440,344 C490,338 540,330 580,324 C566,352 540,372 504,380 C468,386 436,380 410,362 Z"/>
            </g>
            <g data-key="外もも">
              <path class="part hit"    d="M580,324 C620,320 660,316 700,312 C696,342 672,366 634,382 C604,392 578,386 556,370 Z"/>
              <path class="part visual" d="M580,324 C620,320 660,316 700,312 C696,342 672,366 634,382 C604,392 578,386 556,370 Z"/>
            </g>
            <g data-key="ハツ">
              <path class="part hit"    d="M632,260 C660,266 688,270 716,280 C690,288 664,292 638,290 C628,282 626,270 632,260 Z"/>
              <path class="part visual" d="M632,260 C660,266 688,270 716,280 C690,288 664,292 638,290 C628,282 626,270 632,260 Z"/>
            </g>
            <g data-key="レバー">
              <path class="part hit"    d="M664,290 C694,296 722,306 748,320 C722,326 696,330 670,328 C656,318 656,304 664,290 Z"/>
              <path class="part visual" d="M664,290 C694,296 722,306 748,320 C722,326 696,330 670,328 C656,318 656,304 664,290 Z"/>
            </g>
          </g>

          <!-- ラベル（必要なら後で位置調整） -->
          <g fill="currentColor">
            <text class="label" x="370" y="220">ロース</text>
            <text class="label" x="290" y="214">肩ロース</text>
            <text class="label" x="545" y="228">ヒレ</text>
            <text class="label" x="430" y="286">バラ</text>
            <text class="label" x="228" y="294">フタエゴ</text>
            <text class="label" x="318" y="178">タテガミ</text>
            <text class="label" x="470" y="366">内もも</text>
            <text class="label" x="604" y="370">外もも</text>
            <text class="label" x="650" y="270">ハツ</text>
            <text class="label" x="702" y="320">レバー</text>
          </g>
        </svg>
      </div>

      <div class="howto">
        <div class="card"><b>1) タップして表示</b><br>部位をタップすると右に詳細が出ます。もう一度タップで解除。</div>
        <div class="card"><b>2) 食べ方の提案</b><br>「食べ方」タブに人気の食べ方を載せています。接客トークにどうぞ。</div>
      </div>
    </section>

    <aside class="panel" id="panel">
      <header>
        <h2 id="partName">部位をタップしてください</h2>
        <div class="chip" id="chip">—</div>
      </header>
      <nav class="tabs" role="tablist" aria-label="情報タブ">
        <button class="tab" role="tab" aria-selected="true"  data-tab="desc">説明</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="eat">食べ方</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="cook">調理の仕方</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="texture">食感</button>
      </nav>
      <div class="content" id="content">
        <h3>ガイド</h3>
        <p>左のシルエットから部位を選ぶと、ここに「説明／食べ方／調理の仕方／食感」が表示されます。編集機能は省いてあります。</p>
      </div>
    </aside>
  </div>

  <script>
    const DATA = {
      "ロース":{desc:"背中の中心付近の赤身で、筋繊維がきめ細かくクセが少ない“王道部位”。初めての方にもおすすめ。脂は少なめで後味は軽いが、赤身の旨味が濃い。",eat:"薄切りの馬刺しが基本。甘口の九州醤油＋生姜／にんにく。紅白刺し（タテガミ重ね）で甘みとコクを足すと満足度アップ。",cook:"表面だけ強火でサッと炙るタタキ。厚めのブロックは低温調理（58〜60℃）でしっとり。",texture:"しっとり柔らか。舌に吸い付くようなきめ細かさ。"},
      "肩ロース":{desc:"首〜肩にかけての部位。ロースに近い上質さを保ちながら、旨味はやや力強い。コスパに優れ人気。",eat:"刺身の他、胡麻ダレ・酢味噌も相性◎。ボリュームが欲しい方に。",cook:"薄めに引いてさっと炙り。筋目を断つカットでさらに柔らかく。",texture:"ロースよりやや歯応えがあり、噛むほど旨い。"},
      "ヒレ":{desc:"腰の内側にある最も柔らかい赤身。中心のシャトーブリアンは特に希少で上品な甘み。",eat:"塩＋ごま油、または淡口の醤油で素材感を楽しむ。特別な日向け。",cook:"厚切りは低温調理一択。焼くなら強火・短時間で香り付け程度に。",texture:"非常にやわらかい。スッと噛み切れる上質食感。"},
      "バラ":{desc:"あばら周り。赤身と脂の層が交互に入り、コクと満足感が強い。しっかりした旨味。",eat:"刺身はもちろん、ユッケ風や漬け丼も人気。濃いめタレとの相性抜群。",cook:"焼きでは脂が落ちてジューシー。煮込み・カレーでも出汁が濃く出る。",texture:"やや噛み応えがあり、赤身の旨味と脂の甘みが交互に広がる。"},
      "フタエゴ":{desc:"皮下脂肪と赤身が層状になった希少部位。見た目が“二重”に見えることが名前の由来。",eat:"半冷凍で薄く引き、甘口醤油や辛子味噌。ロースと重ねてコントラストを楽しむのも◎。",cook:"冷やして脂を落ち着かせてからスライスすると美しい断面に。",texture:"コリコリ感＋脂のとろける甘み。噛むほど楽しい食感。"},
      "タテガミ":{desc:"首のたてがみ下の脂（コウネ）。単体より赤身と合わせる“紅白刺し”が定番。融点が低く口溶けが非常に良い。",eat:"ロース等の赤身に1:1で重ね、甘口醤油や塩で。初心者にも食べやすい。",cook:"半冷凍の状態で薄く引くと崩れにくい。",texture:"ぷるぷる・ねっとり。後味は軽くミルキー。"},
      "内もも":{desc:"後肢の内側。脂が少なく高タンパクでヘルシー。赤身の旨味が濃いので刺身向き。",eat:"わさび醤油や生姜醤油でさっぱり。量を食べたい方に最適。",cook:"低温調理でしっとり。薄衣のカツやタタキも好評。",texture:"引き締まった歯応え。噛むほどに旨味がにじむ。"},
      "外もも":{desc:"後肢外側の大きな筋肉。旨味は強いが繊維が太めでやや硬い。カットで化ける部位。",eat:"薄切り刺し・ユッケ風・漬け。薬味多めが合う。",cook:"繊維を断つ方向にカット。煮込みや佃煮で深いコク。",texture:"しっかりめの噛み応え。肉らしさを楽しみたい方向け。"},
      "ハツ":{desc:"心臓。鮮度が命でクセは少なく爽やかな旨味。ホルモンの中でも人気。",eat:"ごま油＋塩、酢味噌。軽く炙って香り付けも◎。",cook:"薄切りでサッと焼き。火を入れすぎると硬くなるので注意。",texture:"コリッと小気味よい歯応え。噛むほど旨味。"},
      "レバー":{desc:"肝臓。濃厚で鉄分リッチ。※生食は各自治体の基準に従ってください。加熱で甘みが引き立つ。",eat:"ごま油塩／甘辛ダレ。臭みが気になる方は生姜・ニラなど香味野菜と。",cook:"血抜き→牛乳に短時間浸けて臭みケア。中心は火を通し過ぎないのがコツ。",texture:"ねっとり濃密。加熱でほろっとほどける食感に。"}
    };

    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => [...el.querySelectorAll(q)];
    const partName = $("#partName");
    const chip = $("#chip");
    const content = $("#content");
    const tabs = $$(".tab");

    const groups = $$("#parts > g");
    const visualPaths = $$(".part.visual");
    const hitPaths = $$(".part.hit");

    let selectedKey = null;
    let activeTab = "desc";

    function renderPanel(){
      if(!selectedKey){
        partName.textContent = "部位をタップしてください";
        chip.textContent = "—";
        content.innerHTML = `<h3>ガイド</h3><p>左のシルエットから部位を選ぶと、ここに「説明／食べ方／調理の仕方／食感」が表示されます。編集機能は省いてあります。</p>`;
        return;
      }
      const data = DATA[selectedKey];
      partName.textContent = selectedKey;
      chip.textContent = `タブ：${({desc:"説明", eat:"食べ方", cook:"調理の仕方", texture:"食感"})[activeTab]}`;
      const body = (data?.[activeTab] ?? "準備中").replace(/\n/g, "<br>");
      content.innerHTML = `<h3>${({desc:"説明", eat:"食べ方", cook:"調理の仕方", texture:"食感"})[activeTab]}</h3><p>${body}</p>`;
    }

    function attachHandlers(el){
      el.setAttribute("tabindex","0");
      el.addEventListener("click", ()=>toggleSelect(el));
      el.addEventListener("keypress", (e)=>{ if(e.key==="Enter"||e.key===" ") toggleSelect(el); });
      el.addEventListener("mouseenter", ()=>{ if(!selectedKey) chip.textContent = el.parentElement.dataset.key; });
      el.addEventListener("mouseleave", ()=>{ if(!selectedKey) chip.textContent = "—"; });
    }
    visualPaths.forEach(attachHandlers);
    hitPaths.forEach(attachHandlers);

    function toggleSelect(target){
      const key = target.parentElement.dataset.key;
      const same = (selectedKey === key);
      selectedKey = same ? null : key;
      visualPaths.forEach(v=>v.setAttribute("aria-selected","false"));
      if(!same){
        const group = groups.find(g=>g.dataset.key===key);
        group.querySelector(".visual").setAttribute("aria-selected","true");
      }
      activeTab = "desc";
      tabs.forEach(t=>t.setAttribute("aria-selected", t.dataset.tab===activeTab));
      renderPanel();
    }

    tabs.forEach(t=>{
      t.addEventListener("click", ()=>{
        activeTab = t.dataset.tab;
        tabs.forEach(x=>x.setAttribute("aria-selected", x===t?"true":"false"));
        renderPanel();
      });
    });

    renderPanel();
  </script>
</body>
</html>
