<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ğŸ´ é¦¬è‚‰ éƒ¨ä½ã‚¬ã‚¤ãƒ‰ï¼ˆå®Œå…¨ç‰ˆï¼‰</title>
<style>
  :root {
    --bg: #fdeef0;
    --card: #fff;
    --accent: #f7b1b8;
    --text: #222;
    --ink: #d6336c;
  }

  body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font-family: "Yu Gothic", "Hiragino Sans", sans-serif;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: flex-start;
    gap: 2rem;
    padding: 2rem;
    box-sizing: border-box;
  }

  .svgbox {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    max-width: 900px;
    background: #fff6;
    border-radius: 12px;
    position: relative;
  }

  .svgbox svg {
    width: 100%;
    height: auto;
    max-width: 900px;
    transition: all 0.2s ease;
  }

  .edit-dot {
    fill: white;
    stroke: #f06;
    stroke-width: 1.5;
    cursor: pointer;
  }

  .info-box {
    width: 340px;
    background: var(--card);
    padding: 1.6rem;
    border-radius: 12px;
    box-shadow: 0 2px 8px #0001;
  }

  .info-box h2 {
    color: var(--ink);
    margin-bottom: 0.6rem;
    border-bottom: 2px solid var(--accent);
    display: inline-block;
  }

  @media (max-width: 900px) {
    body {
      flex-direction: column;
      align-items: center;
    }
    .info-box {
      width: 90%;
    }
  }
</style>
</head>
<body>

<div class="svgbox" id="svgContainer">
  <img src="screenshot-2025-10-20-203144.svg" id="horseMap" alt="é¦¬è‚‰éƒ¨ä½å›³" />
</div>

<div class="info-box">
  <h2>é¦¬è‚‰ éƒ¨ä½å›³</h2>
  <p id="guide">éƒ¨ä½ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
  <div id="desc"></div>
</div>

<script>
// ============================
// éƒ¨ä½èª¬æ˜ã¾ã¨ã‚
// ============================
const partsInfo = {
  "ãŸã¦ãŒã¿": "ã·ã‚‹ã·ã‚‹ã¨ã—ãŸé£Ÿæ„Ÿã§ã‚³ãƒ©ãƒ¼ã‚²ãƒ³ãŒè±Šå¯Œã€‚èµ¤èº«ã¨ä¸€ç·’ã«é£Ÿã¹ã‚‹ã¨æœ€é«˜ã®ãƒãƒ©ãƒ³ã‚¹ã€‚",
  "ãƒãƒƒã‚¯": "æ˜”ãªãŒã‚‰ã®èµ¤èº«ã€‚å™›ã‚€ã»ã©ã«æ—¨ã¿ãŒæº¢ã‚Œã‚‹ã€‚ãƒ¦ãƒƒã‚±ã‚„ç…®è¾¼ã¿ã«ã‚‚ã€‚",
  "è‚©ãƒ­ãƒ¼ã‚¹": "ã»ã©ã‚ˆã„ã‚µã‚·ãŒå…¥ã£ãŸæŸ”ã‚‰ã‹ã„éƒ¨ä½ã€‚åˆºèº«ãƒ»ã™ãç„¼ãã«æœ€é©ã€‚",
  "ãƒ­ãƒ¼ã‚¹": "è„‚ã¨èµ¤èº«ã®ãƒãƒ©ãƒ³ã‚¹ãŒçµ¶å¦™ã€‚é¦¬åˆºã—å®šç•ªéƒ¨ä½ã€‚",
  "ãƒ’ãƒ¬": "æœ€ã‚‚æŸ”ã‚‰ã‹ã„å¸Œå°‘éƒ¨ä½ã€‚ä¸Šå“ãªå‘³ã‚ã„ã§äººæ°—ã€‚",
  "ãƒãƒ©": "æ—¨ã¿ã®å¼·ã„éƒ¨ä½ã§ç…®è¾¼ã¿æ–™ç†ã«ã‚‚ã´ã£ãŸã‚Šã€‚",
  "å‰ãƒãƒ©": "ã‚³ã‚¯ã®ã‚ã‚‹è„‚èº«ãŒç‰¹å¾´ã€‚ç„¼ãã«ã‚‚å‘ãã€‚",
  "å¾Œãƒãƒ©": "èµ¤èº«ã¨è„‚ãŒé‡ãªã‚Šåˆã†å‘³ã‚ã„æ·±ã„éƒ¨ä½ã€‚",
  "å†…ãƒ¢ãƒ¢": "ã—ã£ã¨ã‚Šã¨ã—ãŸèµ¤èº«ã€‚ä½è„‚è‚ªã§ãƒ˜ãƒ«ã‚·ãƒ¼ã€‚",
  "å¤–ãƒ¢ãƒ¢": "ã‚„ã‚„æ­¯ã”ãŸãˆã‚ã‚Šã€‚å™›ã‚€ã»ã©ã«æ—¨ã¿ã‚’æ„Ÿã˜ã‚‹ã€‚",
  "ã‚¤ãƒãƒœ": "å¸Œå°‘éƒ¨ä½ã§èµ¤èº«ã¨è„‚ã®ãƒãƒ©ãƒ³ã‚¹â—ã€‚ç„¼ãã«ã‚‚ãŠã™ã™ã‚ã€‚",
  "ãƒ©ãƒ³ãƒ—": "è…°ã‹ã‚‰å°»ã«ã‹ã‘ã¦ã®èµ¤èº«ã€‚æ¿ƒåšãªæ—¨ã¿ã€‚",
  "ãƒ©ãƒ ": "è…°éƒ¨ã®æŸ”ã‚‰ã‹ãªèµ¤èº«ã€‚åˆºèº«ãƒ»ç„¼ãã©ã¡ã‚‰ã‚‚OKã€‚",
  "ãƒ–ãƒªã‚¹ã‚±": "è‚©ä¸‹ã®ç­‹è‚‰è³ªãªéƒ¨ä½ã€‚ç…®è¾¼ã¿æ–™ç†ã§ã¨ã‚ã‘ã‚‹æ—¨ã•ã€‚",
  "è‚©ãƒãƒ©": "è„‚ã®ã‚³ã‚¯ãŒå¼·ãã€ç…®è¾¼ã¿ã‚„ç„¼è‚‰ã«æœ€é©ã€‚",
  "ãƒ•ãƒ­ãƒ³ãƒˆ": "å‰è„šã®ä»˜ã‘æ ¹ã€‚æ—¨å‘³ãŒæ¿ƒåšã§ã‚¹ã‚¸ç…®è¾¼ã¿ã«ã€‚",
  "ã‚¹ãƒ": "ç­‹ãŒå¤šãé•·æ™‚é–“ç…®è¾¼ã‚€ã¨ã¨ã‚ã‘ã‚‹é£Ÿæ„Ÿã€‚é¦¬ã™ã˜ç…®è¾¼ã¿ã®å®šç•ªã€‚"
};

// ============================
// ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ¤å®š
// ============================
const urlParams = new URLSearchParams(window.location.search);
const editMode = urlParams.get("edit") === "1";

// ============================
// åº§æ¨™è¨­å®šï¼ˆSVGåŸºæº–ã§å¾®èª¿æ•´æ¸ˆï¼‰
// ============================
const areas = {
  "ãŸã¦ãŒã¿": {x:180, y:80, w:140, h:60},
  "ãƒãƒƒã‚¯": {x:220, y:140, w:200, h:90},
  "è‚©ãƒ­ãƒ¼ã‚¹": {x:330, y:130, w:140, h:70},
  "ãƒ­ãƒ¼ã‚¹": {x:460, y:150, w:160, h:70},
  "ãƒ’ãƒ¬": {x:470, y:230, w:130, h:50},
  "ãƒãƒ©": {x:380, y:280, w:140, h:70},
  "å‰ãƒãƒ©": {x:360, y:260, w:120, h:60},
  "å¾Œãƒãƒ©": {x:500, y:260, w:140, h:60},
  "å†…ãƒ¢ãƒ¢": {x:620, y:240, w:90, h:80},
  "å¤–ãƒ¢ãƒ¢": {x:640, y:180, w:90, h:70},
  "ã‚¤ãƒãƒœ": {x:630, y:150, w:80, h:50},
  "ãƒ©ãƒ³ãƒ—": {x:580, y:220, w:90, h:70},
  "ãƒ©ãƒ ": {x:600, y:120, w:100, h:60},
  "ãƒ–ãƒªã‚¹ã‚±": {x:270, y:230, w:90, h:80},
  "è‚©ãƒãƒ©": {x:320, y:200, w:110, h:80},
  "ãƒ•ãƒ­ãƒ³ãƒˆ": {x:280, y:320, w:70, h:100},
  "ã‚¹ãƒ": {x:290, y:380, w:60, h:120}
};

// ============================
// æç”»
// ============================
const container = document.getElementById("svgContainer");
const img = document.getElementById("horseMap");
const descBox = document.getElementById("desc");
const guideText = document.getElementById("guide");

img.onload = () => {
  const svgNS = "http://www.w3.org/2000/svg";
  const overlay = document.createElementNS(svgNS, "svg");
  overlay.setAttribute("width", "100%");
  overlay.setAttribute("height", "100%");
  overlay.style.position = "absolute";
  overlay.style.top = 0;
  overlay.style.left = 0;
  container.appendChild(overlay);

  for (const [name, pos] of Object.entries(areas)) {
    const rect = document.createElementNS(svgNS, "rect");
    rect.setAttribute("x", pos.x);
    rect.setAttribute("y", pos.y);
    rect.setAttribute("width", pos.w);
    rect.setAttribute("height", pos.h);
    rect.setAttribute("fill", "rgba(255,0,100,0.15)");
    rect.style.cursor = "pointer";
    rect.style.transition = "0.2s";
    rect.setAttribute("data-name", name);

    // hoverå¼·èª¿
    rect.addEventListener("mouseenter", () => rect.setAttribute("fill", "rgba(255,0,100,0.35)"));
    rect.addEventListener("mouseleave", () => rect.setAttribute("fill", "rgba(255,0,100,0.15)"));

    // ã‚¯ãƒªãƒƒã‚¯ã¾ãŸã¯ã‚¿ãƒƒãƒ—
    const activate = () => {
      guideText.innerHTML = `<b>${name}</b>`;
      descBox.textContent = partsInfo[name] || "èª¬æ˜ãŒæœªç™»éŒ²ã§ã™ã€‚";
    };
    rect.addEventListener("click", activate);
    rect.addEventListener("touchstart", (e) => {
      e.preventDefault();
      activate();
    });

    // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰æ™‚ã®ç™½ä¸¸
    if (editMode) {
      const dot = document.createElementNS(svgNS, "circle");
      dot.classList.add("edit-dot");
      dot.setAttribute("cx", pos.x + pos.w / 2);
      dot.setAttribute("cy", pos.y + pos.h / 2);
      dot.setAttribute("r", 6);
      overlay.appendChild(dot);
    }

    overlay.appendChild(rect);
  }
};
</script>

</body>
</html>
