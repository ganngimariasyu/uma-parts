<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🐎 馬の部位インタラクティブ解説（接客用・ダーク）</title>
  <meta name="description" content="馬の部位をタップすると『説明・食べ方・調理の仕方・食感』がページ内で表示される接客向けツール。ダーク（グレー基調）＆広いクリック判定。" />
  <style>
    :root{
      /* ダーク（グレー〜ネイビー系） */
      --bg1:#0b1020; --bg2:#0a0f1e; --card:#12192b; --ink:#e9f1ff; --muted:#9eb0d1; --line:#223155;
      --accent:#6ea8ff; --hit:#5db0ff33; --sel:#6ea8ff99;
      --hit-width:28; /* ←タッチ判定の太さ。広げたい時は数値UP */
    }
    html,body{height:100%}
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN","Noto Sans JP","Yu Gothic",sans-serif;
      background:linear-gradient(180deg,var(--bg1) 0%, var(--bg2) 100%); color:var(--ink)
    }
    header{padding:18px 16px 4px; max-width:1200px; margin:auto}
    h1{margin:0 0 4px; font-size:clamp(20px,3vw,28px)}
    .sub{color:var(--muted); font-size:13px}

    .wrap{display:grid; grid-template-columns:1.25fr 1fr; gap:18px; padding:12px 16px 28px; max-width:1200px; margin:auto}
    @media (max-width: 960px){ .wrap{ grid-template-columns:1fr; } }

    .stage{background:var(--card); border:1px solid var(--line); border-radius:16px; padding:12px; position:relative}
    .legend{display:flex; gap:8px; flex-wrap:wrap; padding:6px 6px 10px}
    .badge{display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; background:#0e1526; border:1px solid var(--line); color:var(--muted); font-size:12px}
    .badge i{width:10px; height:10px; border-radius:2px; background:var(--accent); display:inline-block}

    /* SVGエリア */
    .svgbox{position:relative; aspect-ratio: 16/9; width:100%;
      background: radial-gradient(900px 480px at 50% 10%, #11203b 0%, #0c1324 45%, #0b1020 100%);
      border-radius:12px; overflow:hidden; border:1px solid var(--line)
    }
    svg{display:block; width:100%; height:100%}
    .base{fill:#0e1730; stroke:#24365e}
    .part.visual{fill:#89a7d930; stroke:#8fb4ff66; stroke-width:1.2; cursor:pointer; transition:all .15s ease}
    .part.visual:hover{fill:var(--hit)}
    .part.visual[aria-selected="true"]{fill:var(--sel); stroke:#bcd6ff}
    /* クリック判定を広くする透明の当たり領域（strokeに反応） */
    .part.hit{fill:none; stroke:transparent; stroke-width:var(--hit-width); pointer-events:stroke; vector-effect:non-scaling-stroke}

    .label{font-size:12px; fill:#cfe1ff}

    /* サイドパネル */
    .panel{position:relative; background:#0f1526; border:1px solid var(--line); border-radius:16px; overflow:hidden}
    .panel header{padding:14px 16px; border-bottom:1px solid var(--line)}
    .panel h2{margin:0; font-size:18px}
    .chip{color:var(--muted); font-size:12px}
    .tabs{display:flex; gap:6px; padding:10px; border-bottom:1px solid var(--line); overflow:auto}
    .tab{flex:0 0 auto; padding:8px 12px; background:#0e1528; border:1px solid var(--line); color:var(--muted); border-radius:10px; cursor:pointer; font-size:13px}
    .tab[aria-selected="true"]{background:#15213a; color:var(--ink); border-color:#34508a}
    .content{padding:14px 16px; min-height:220px}
    .content h3{margin:0 0 6px; font-size:14px; color:var(--muted)}
    .content p{margin:0 0 10px; line-height:1.9}

    /* 使い方カード */
    .howto{display:grid; grid-template-columns:1fr 1fr; gap:8px; padding:10px 12px}
    .howto .card{background:#0e1526; border:1px solid var(--line); border-radius:12px; padding:10px; color:var(--ink)}
    .howto b{color:#8ec1ff}
    @media (max-width: 640px){ .howto{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <header>
    <h1>🐴 馬の部位インタラクティブ解説（接客用・ダーク）</h1>
    <div class="sub">部位をタップ → 右側に <b>説明／食べ方／調理の仕方／食感</b> を表示。クリック判定は広め。編集機能なし。</div>
  </header>

  <div class="wrap">
    <!-- 左：インタラクティブSVG -->
    <section class="stage">
      <div class="legend">
        <span class="badge"><i></i> タップで選択／もう一度で解除（判定広め）</span>
        <span class="badge"><i style="background:#a6ffb1"></i> モバイルOK（ピンチで拡大）</span>
      </div>
      <div class="svgbox" id="svgbox">
        <!-- ▼ ここが描画エリア。あなたのhorse.svgをそのまま貼ってもOK（下のコメント参照） -->
        <svg viewBox="0 0 920 520" xmlns="http://www.w3.org/2000/svg" aria-labelledby="ttl desc">
          <title id="ttl">馬の部位シルエット（接客用）</title>
          <desc id="desc">シルエット上のパーツをタップして詳細を表示します。</desc>

          <!-- =========================
               あなたのhorse.svgの<path>や<g>を
               ▼この <g id="horseShape"> の中にペースト
               （viewBoxが違っても大抵OK。必要ならtransformで拡大縮小）
          ========================== -->
          <g id="horseShape">
            <!-- ▼ここにhorse.svgの<path>等を貼る。貼ったら下の「fallbackBase」は自動で非表示にするJSが働きます。 -->
          </g>

          <!-- Fallback（貼り付け前の仮シルエット） -->
          <path id="fallbackBase" class="base"
            d="M140,250 C180,180 280,150 380,160 C460,168 520,190 600,210 C640,220 700,218 740,222 C770,225 812,236 838,254 C846,260 850,272 846,282 C839,301 816,314 788,332 C760,349 738,364 720,380 C700,396 662,412 626,412 C552,410 476,388 404,380 C332,372 278,380 226,390 C176,400 134,392 108,360 C92,340 90,312 105,284 C116,262 126,258 140,250 Z"/>

          <!-- 部位領域（視覚パス＋広いヒットパスの二重）-->
          <g id="parts">
            <g data-key="ロース">
              <path class="part hit" d="M320,210 C380,200 460,202 520,214 C560,222 582,232 600,242 C560,252 520,256 480,256 C420,256 370,248 330,236 Z"/>
              <path class="part visual" d="M320,210 C380,200 460,202 520,214 C560,222 582,232 600,242 C560,252 520,256 480,256 C420,256 370,248 330,236 Z"/>
            </g>
            <g data-key="肩ロース">
              <path class="part hit" d="M250,220 C290,205 330,198 360,198 C340,214 332,230 328,244 C302,242 278,236 254,228 Z"/>
              <path class="part visual" d="M250,220 C290,205 330,198 360,198 C340,214 332,230 328,244 C302,242 278,236 254,228 Z"/>
            </g>
            <g data-key="ヒレ">
              <path class="part hit" d="M520,220 C552,226 580,238 605,254 C575,260 545,262 512,260 C500,248 504,234 520,220 Z"/>
              <path class="part visual" d="M520,220 C552,226 580,238 605,254 C575,260 545,262 512,260 C500,248 504,234 520,220 Z"/>
            </g>
            <g data-key="バラ">
              <path class="part hit" d="M290,260 C360,280 460,292 560,292 C540,312 500,330 440,338 C372,346 312,332 270,308 Z"/>
              <path class="part visual" d="M290,260 C360,280 460,292 560,292 C540,312 500,330 440,338 C372,346 312,332 270,308 Z"/>
            </g>
            <g data-key="フタエゴ">
              <path class="part hit" d="M220,258 C254,268 270,286 278,306 C248,312 218,308 198,294 C192,278 198,266 220,258 Z"/>
              <path class="part visual" d="M220,258 C254,268 270,286 278,306 C248,312 218,308 198,294 C192,278 198,266 220,258 Z"/>
            </g>
            <g data-key="タテガミ">
              <path class="part hit" d="M260,188 C308,170 360,160 410,158 C372,172 344,188 326,206 C304,202 282,196 260,188 Z"/>
              <path class="part visual" d="M260,188 C308,170 360,160 410,158 C372,172 344,188 326,206 C304,202 282,196 260,188 Z"/>
            </g>
            <g data-key="内もも">
              <path class="part hit" d="M440,344 C490,338 540,330 580,324 C566,352 540,372 504,380 C468,386 436,380 410,362 Z"/>
              <path class="part visual" d="M440,344 C490,338 540,330 580,324 C566,352 540,372 504,380 C468,386 436,380 410,362 Z"/>
            </g>
            <g data-key="外もも">
              <path class="part hit" d="M580,324 C620,320 660,316 700,312 C696,342 672,366 634,382 C604,392 578,386 556,370 Z"/>
              <path class="part visual" d="M580,324 C620,320 660,316 700,312 C696,342 672,366 634,382 C604,392 578,386 556,370 Z"/>
            </g>
            <g data-key="ハツ">
              <path class="part hit" d="M632,260 C660,266 688,270 716,280 C690,288 664,292 638,290 C628,282 626,270 632,260 Z"/>
              <path class="part visual" d="M632,260 C660,266 688,270 716,280 C690,288 664,292 638,290 C628,282 626,270 632,260 Z"/>
            </g>
            <g data-key="レバー">
              <path class="part hit" d="M664,290 C694,296 722,306 748,320 C722,326 696,330 670,328 C656,318 656,304 664,290 Z"/>
              <path class="part visual" d="M664,290 C694,296 722,306 748,320 C722,326 696,330 670,328 C656,318 656,304 664,290 Z"/>
            </g>
          </g>

          <!-- ラベル -->
          <g fill="currentColor">
            <text class="label" x="370" y="220">ロース</text>
            <text class="label" x="290" y="214">肩ロース</text>
            <text class="label" x="545" y="228">ヒレ</text>
            <text class="label" x="430" y="286">バラ</text>
            <text class="label" x="228" y="294">フタエゴ</text>
            <text class="label" x="318" y="178">タテガミ</text>
            <text class="label" x="470" y="366">内もも</text>
            <text class="label" x="604" y="370">外もも</text>
            <text class="label" x="650" y="270">ハツ</text>
            <text class="label" x="702" y="320">レバー</text>
          </g>
        </svg>
      </div>

      <div class="howto">
        <div class="card"><b>1) タップして表示</b><br>気になる部位をタップすると右に詳細が出ます。もう一度タップで解除。</div>
        <div class="card"><b>2) 食べ方の提案</b><br>「食べ方」タブに人気の食べ方を載せています。接客トークにどうぞ。</div>
      </div>
    </section>

    <!-- 右：情報パネル -->
    <aside class="panel" id="panel">
      <header>
        <h2 id="partName">部位をタップしてください</h2>
        <div class="chip" id="chip">—</div>
      </header>
      <nav class="tabs" role="tablist" aria-label="情報タブ">
        <button class="tab" role="tab" aria-selected="true" data-tab="desc">説明</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="eat">食べ方</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="cook">調理の仕方</button>
        <button class="tab" role="tab" aria-selected="false" data-tab="texture">食感</button>
      </nav>
      <div class="content" id="content">
        <h3>ガイド</h3>
        <p>左のシルエットから部位を選ぶと、ここに「説明／食べ方／調理の仕方／食感」が表示されます。編集機能は省いてあります。</p>
      </div>
    </aside>
  </div>

  <script>
    // ===== 1) 文言データ =====
    const DATA = {
      "ロース": {
        desc: "背中の中心付近の赤身で、筋繊維がきめ細かくクセが少ない“王道部位”。初めての方にもおすすめ。脂は少なめで後味は軽いが、赤身の旨味が濃い。",
        eat: "薄切りの馬刺しが基本。甘口の九州醤油＋生姜／にんにく。紅白刺し（タテガミ重ね）で甘みとコクを足すと満足度アップ。",
        cook: "表面だけ強火でサッと炙るタタキ。厚めのブロックは低温調理（58〜60℃）でしっとり。",
        texture: "しっとり柔らか。舌に吸い付くようなきめ細かさ。"
      },
      "肩ロース": {
        desc: "首〜肩にかけての部位。ロースに近い上質さを保ちながら、旨味はやや力強い。コスパに優れ人気。",
        eat: "刺身の他、胡麻ダレ・酢味噌も相性◎。ボリュームが欲しい方に。",
        cook: "薄めに引いてさっと炙り。筋目を断つカットでさらに柔らかく。",
        texture: "ロースよりやや歯応えがあり、噛むほど旨い。"
      },
      "ヒレ": {
        desc: "腰の内側にある最も柔らかい赤身。中心のシャトーブリアンは特に希少で上品な甘み。",
        eat: "塩＋ごま油、または淡口の醤油で素材感を楽しむ。特別な日向け。",
        cook: "厚切りは低温調理一択。焼くなら強火・短時間で香り付け程度に。",
        texture: "非常にやわらかい。スッと噛み切れる上質食感。"
      },
      "バラ": {
        desc: "あばら周り。赤身と脂の層が交互に入り、コクと満足感が強い。しっかりした旨味。",
        eat: "刺身はもちろん、ユッケ風や漬け丼も人気。濃いめタレとの相性抜群。",
        cook: "焼きでは脂が落ちてジューシー。煮込み・カレーでも出汁が濃く出る。",
        texture: "やや噛み応えがあり、赤身の旨味と脂の甘みが交互に広がる。"
      },
      "フタエゴ": {
        desc: "皮下脂肪と赤身が層状になった希少部位。見た目が“二重”に見えることが名前の由来。",
        eat: "半冷凍で薄く引き、甘口醤油や辛子味噌。ロースと重ねてコントラストを楽しむのも◎。",
        cook: "冷やして脂を落ち着かせてからスライスすると美しい断面に。",
        texture: "コリコリ感＋脂のとろける甘み。噛むほど楽しい食感。"
      },
      "タテガミ": {
        desc: "首のたてがみ下の脂（コウネ）。単体より赤身と合わせる“紅白刺し”が定番。融点が低く口溶けが非常に良い。",
        eat: "ロース等の赤身に1:1で重ね、甘口醤油や塩で。初心者にも食べやすい。",
        cook: "半冷凍の状態で薄く引くと崩れにくい。",
        texture: "ぷるぷる・ねっとり。後味は軽くミルキー。"
      },
      "内もも": {
        desc: "後肢の内側。脂が少なく高タンパクでヘルシー。赤身の旨味が濃いので刺身向き。",
        eat: "わさび醤油や生姜醤油でさっぱり。量を食べたい方に最適。",
        cook: "低温調理でしっとり。薄衣のカツやタタキも好評。",
        texture: "引き締まった歯応え。噛むほどに旨味がにじむ。"
      },
      "外もも": {
        desc: "後肢外側の大きな筋肉。旨味は強いが繊維が太めでやや硬い。カットで化ける部位。",
        eat: "薄切り刺し・ユッケ風・漬け。薬味多めが合う。",
        cook: "繊維を断つ方向にカット。煮込みや佃煮で深いコク。",
        texture: "しっかりめの噛み応え。肉らしさを楽しみたい方向け。"
      },
      "ハツ": {
        desc: "心臓。鮮度が命でクセは少なく爽やかな旨味。ホルモンの中でも人気。",
        eat: "ごま油＋塩、酢味噌。軽く炙って香り付けも◎。",
        cook: "薄切りでサッと焼き。火を入れすぎると硬くなるので注意。",
        texture: "コリッと小気味よい歯応え。噛むほど旨味。"
      },
      "レバー": {
        desc: "肝臓。濃厚で鉄分リッチ。※生食は各自治体の基準に従ってください。加熱で甘みが引き立つ。",
        eat: "ごま油塩／甘辛ダレ。臭みが気になる方は生姜・ニラなど香味野菜と。",
        cook: "血抜き→牛乳に短時間浸けて臭みケア。中心は火を通し過ぎないのがコツ。",
        texture: "ねっとり濃密。加熱でほろっとほどける食感に。"
      }
    };

    // ===== 2) UI制御 =====
    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => [...el.querySelectorAll(q)];
    const partName = $("#partName");
    const chip = $("#chip");
    const content = $("#content");
    const tabs = $$(".tab");

    const groups = $$("#parts > g"); // 各部位グループ（data-key付き）
    const visualPaths = $$(".part.visual");
    const hitPaths = $$(".part.hit");

    let selectedKey = null;
    let activeTab = "desc"; // desc | eat | cook | texture

    // もし #horseShape にパスが貼られていたら、フォールバックを隠す
    (function hideFallbackIfUserSvg(){
      const hasUserSvg = $("#horseShape")?.children.length > 0;
      if(hasUserSvg){
        const fb = $("#fallbackBase");
        if(fb) fb.style.display = "none";
      }
    })();

    function renderPanel(){
      if(!selectedKey){
        partName.textContent = "部位をタップしてください";
        chip.textContent = "—";
        content.innerHTML = `<h3>ガイド</h3><p>左のシルエットから部位を選ぶと、ここに「説明／食べ方／調理の仕方／食感」が表示されます。編集機能は省いてあります。</p>`;
        return;
      }
      const data = DATA[selectedKey];
      partName.textContent = selectedKey;
      chip.textContent = `タブ：${({desc:"説明", eat:"食べ方", cook:"調理の仕方", texture:"食感"})[activeTab]}`;
      const body = (data?.[activeTab] ?? "準備中").replace(/\n/g, "<br>");
      content.innerHTML = `<h3>${({desc:"説明", eat:"食べ方", cook:"調理の仕方", texture:"食感"})[activeTab]}</h3><p>${body}</p>`;
    }

    // 部位選択（ビジュアル/ヒットどちらを押しても同じ挙動）
    function attachHandlers(el){
      el.setAttribute("tabindex","0");
      el.addEventListener("click", ()=>toggleSelect(el));
      el.addEventListener("keypress", (e)=>{ if(e.key==="Enter"||e.key===" ") toggleSelect(el); });
      el.addEventListener("mouseenter", ()=>{ if(!selectedKey) chip.textContent = el.parentElement.dataset.key; });
      el.addEventListener("mouseleave", ()=>{ if(!selectedKey) chip.textContent = "—"; });
    }
    visualPaths.forEach(attachHandlers);
    hitPaths.forEach(attachHandlers);

    function toggleSelect(target){
      const key = target.parentElement.dataset.key;
      const isSame = (selectedKey === key);
      selectedKey = isSame ? null : key;
      // 視覚反映
      visualPaths.forEach(v=>v.setAttribute("aria-selected","false"));
      if(!isSame){
        const group = groups.find(g=>g.dataset.key===key);
        group.querySelector('.visual').setAttribute('aria-selected','true');
      }
      // タブを説明に戻す
      activeTab = "desc"; tabs.forEach(t=>t.setAttribute("aria-selected", t.dataset.tab===activeTab));
      renderPanel();
    }

    // タブ切替
    tabs.forEach(t=>{
      t.addEventListener("click", ()=>{
        activeTab = t.dataset.tab;
        tabs.forEach(x=>x.setAttribute("aria-selected", x===t?"true":"false"));
        renderPanel();
      });
    });

    // 初期描画
    renderPanel();
  </script>

  <!-- ◆ メモ：本番SVG差し替え
    1) horse.svg を開いて中の <path> や <g> をコピー
    2) 上の <g id="horseShape"> にそのままペースト（必要なら transform で位置/拡大）
    3) 当たり判定をさらに広げたい時は :root の --hit-width を増やす（例: 36, 42）
    4) もっと正確にしたい時は、各部位の .hit/.visual の d を微調整
  -->
</body>
</html>
